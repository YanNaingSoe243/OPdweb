#pragma checksum "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ebc5b5ba853300ede7b625c36d78e7c5ac8d080b"
// <auto-generated/>
#pragma warning disable 1591
namespace OPdWebApp.Authentication
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.Authentication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.OPDInfo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.ExprotService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.BarCodeReader;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using AutoMapper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.Toast;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/login")]
    public partial class Login : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "login");
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "class", "container");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "row py-5 mt-4 align-items-center");
            __builder.AddMarkupContent(6, @"<div class=""col-md-6 pr-lg-5 mb-5 mb-md-0""><img src=""css/img/Login2.png"" alt class=""img-fluid mb-3 d-none d-md-block"">
                <h1>Sign In  an Account</h1>
                <p class=""font-italic text-muted"">
                    Create By <a href=""#"" class=""text-muted""><u>Yan Naing Soe & Kyaw Min Thu</u></a></p></div>

            
            ");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "col-md-7 col-lg-6 ml-auto");
            __builder.OpenElement(9, "form");
            __builder.AddAttribute(10, "action", "#");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "row");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "input-group col-lg-12 mb-4");
            __builder.AddMarkupContent(15, "<div class=\"input-group-prepend\"><span class=\"input-group-text bg-white px-4 border-md border-right-0\"><i class=\"oi oi-envelope-closed text-muted\"></i></span></div>\r\n                            ");
            __builder.OpenElement(16, "input");
            __builder.AddAttribute(17, "id", "email");
            __builder.AddAttribute(18, "type", "email");
            __builder.AddAttribute(19, "name", "email");
            __builder.AddAttribute(20, "placeholder", "Email Address");
            __builder.AddAttribute(21, "class", "form-control bg-white border-left-0 border-md");
            __builder.AddAttribute(22, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 39 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
                                                           siginmodel.Email

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(23, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => siginmodel.Email = __value, siginmodel.Email));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n\r\n\r\n\r\n                        \r\n                        ");
            __builder.OpenElement(25, "div");
            __builder.AddAttribute(26, "class", "input-group col-lg-12 mb-4");
            __builder.AddMarkupContent(27, "<div class=\"input-group-prepend\"><span class=\"input-group-text bg-white px-4 border-md border-right-0\"><i class=\"oi oi-lock-locked text-muted\"></i></span></div>\r\n                            ");
            __builder.OpenElement(28, "input");
            __builder.AddAttribute(29, "id", "password");
            __builder.AddAttribute(30, "type", "password");
            __builder.AddAttribute(31, "name", "password");
            __builder.AddAttribute(32, "placeholder", "Password");
            __builder.AddAttribute(33, "class", "form-control bg-white border-left-0 border-md");
            __builder.AddAttribute(34, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 52 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
                                                                              siginmodel.Password

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(35, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => siginmodel.Password = __value, siginmodel.Password));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(36, "\r\n\r\n\r\n\r\n                        \r\n                        ");
            __builder.OpenElement(37, "div");
            __builder.AddAttribute(38, "class", "form-group col-lg-12 mx-auto mb-0");
            __builder.OpenElement(39, "a");
            __builder.AddAttribute(40, "href", "#");
            __builder.AddAttribute(41, "class", "btn btn-primary btn-block py-2");
            __builder.AddAttribute(42, "style", "background-color: #660080");
            __builder.AddAttribute(43, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 59 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
                                                                                                                           LoginAccount

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(44, "<span class=\"font-weight-bold\">Sign In</span>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "\r\n\r\n                        \r\n                        ");
            __builder.AddMarkupContent(46, @"<div class=""form-group col-lg-12 mx-auto d-flex align-items-center my-4""><div class=""border-bottom w-100 ml-5""></div>
                            <span class=""px-2 small text-muted font-weight-bold text-muted"">OR</span>
                            <div class=""border-bottom w-100 mr-5""></div></div>

                        ");
            __builder.AddMarkupContent(47, "<div class=\"text-center w-100\"><p class=\"text-muted font-weight-bold\">Already Registered? <a href=\"register\" class=\"text-primary ml-2\">Register</a></p></div>");
            __builder.CloseElement();
#nullable restore
#line 76 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
                     if (!string.IsNullOrEmpty(error))
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(48, "div");
            __builder.AddAttribute(49, "class", "alert alert-danger mt-3 mb-0");
#nullable restore
#line 78 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
__builder.AddContent(50, error);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 79 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 86 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\Authentication\Login.razor"
       
    SiginModel siginmodel { get; set; }
    // LoginResult User { get; set; }
    protected override async Task OnInitializedAsync()
    {
        siginmodel = new SiginModel();
        //  User = new LoginResult();
    }

    private string error;
    private async void LoginAccount()
    {



        try
        {
            LoginResult User = await AuthenticationService.Login(siginmodel);
            if (User.jwtBearer != null && User.jwtBearer != "")
            {
              
                await Task.Run(() => { UriHelper.NavigateTo("opdpage"); });
            }
            else
            {
                error = "Email and Password are  Not Match....";
                notificationService.Notify(new NotificationMessage { Style = "position: fixed;bottom: 0px; ", Severity = NotificationSeverity.Success, Summary = "Success Summary", Detail = error, Duration = 2000 });
            }

        }
        catch (Exception ex)
        {
            error = ex.Message;
            notificationService.Notify(new NotificationMessage { Style = "position: fixed;bottom: 0px; ", Severity = NotificationSeverity.Error, Summary = "Error Summary", Detail =error, Duration = 2000 });

        }
        //StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NotificationService notificationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAuthenticationService AuthenticationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager UriHelper { get; set; }
    }
}
#pragma warning restore 1591
