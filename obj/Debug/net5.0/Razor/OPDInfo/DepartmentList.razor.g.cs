#pragma checksum "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "66257307664c8ca799006489adf19a7fd92fb3e1"
// <auto-generated/>
#pragma warning disable 1591
namespace OPdWebApp.OPDInfo
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.Authentication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.OPDInfo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.ExprotService;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using OPdWebApp.BarCodeReader;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using AutoMapper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.Toast;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(OPDLayout))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/department")]
    public partial class DepartmentList : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "topbar");
            __builder.AddAttribute(2, "b-7c8dmjz29j");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "grid-item2");
            __builder.AddAttribute(5, "b-7c8dmjz29j");
            __builder.OpenElement(6, "input");
            __builder.AddAttribute(7, "type", "text");
            __builder.AddAttribute(8, "placeholder", "Search..");
            __builder.AddAttribute(9, "name", "search");
            __builder.AddAttribute(10, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 12 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                                                                       SearchTerm

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(11, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SearchTerm = __value, SearchTerm));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddAttribute(12, "b-7c8dmjz29j");
            __builder.CloseElement();
            __builder.AddMarkupContent(13, "\r\n        ");
            __builder.AddMarkupContent(14, "<button class=\"btn btn-info profile-button\" b-7c8dmjz29j><i class=\"oi oi-magnifying-glass\" b-7c8dmjz29j></i></button>");
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\r\n    \r\n        ");
            __builder.OpenElement(16, "div");
            __builder.AddAttribute(17, "class", "grid-item3");
            __builder.AddAttribute(18, "b-7c8dmjz29j");
            __builder.OpenElement(19, "div");
            __builder.AddAttribute(20, "class", "btn-group");
            __builder.AddAttribute(21, "b-7c8dmjz29j");
            __builder.OpenElement(22, "button");
            __builder.AddAttribute(23, "class", "btn btn-success");
            __builder.AddAttribute(24, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 19 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                                                          ()=>ShowFrom()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(25, "b-7c8dmjz29j");
            __builder.AddContent(26, "Add");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n    ");
            __builder.OpenElement(28, "div");
            __builder.AddAttribute(29, "class", "opdbottom");
            __builder.AddAttribute(30, "b-7c8dmjz29j");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "style", "padding:5px");
            __builder.AddAttribute(33, "b-7c8dmjz29j");
#nullable restore
#line 29 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
             if (departments == null)
            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(34, "<div class=\"spinner\" b-7c8dmjz29j></div>");
#nullable restore
#line 32 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"

            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(35, "table");
            __builder.AddAttribute(36, "class", "table border");
            __builder.AddAttribute(37, "style", "font-size:14px");
            __builder.AddAttribute(38, "b-7c8dmjz29j");
            __builder.AddMarkupContent(39, @"<thead b-7c8dmjz29j><tr b-7c8dmjz29j><th b-7c8dmjz29j></th>
                            <th b-7c8dmjz29j>Department</th>
                            <th b-7c8dmjz29j>Description</th>

                            <th b-7c8dmjz29j></th></tr></thead>
                    ");
            __builder.OpenElement(40, "tbody");
            __builder.AddAttribute(41, "b-7c8dmjz29j");
#nullable restore
#line 48 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                         if (departments.Count() > 0)
                        {
                            account = 1;
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 52 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                         foreach (var objperson in departments.Reverse())
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(42, "tr");
            __builder.AddAttribute(43, "b-7c8dmjz29j");
            __builder.OpenElement(44, "td");
            __builder.AddAttribute(45, "b-7c8dmjz29j");
#nullable restore
#line 55 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
__builder.AddContent(46, account);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n                                ");
            __builder.OpenElement(48, "td");
            __builder.AddAttribute(49, "b-7c8dmjz29j");
#nullable restore
#line 56 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
__builder.AddContent(50, objperson.Name);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n                                ");
            __builder.OpenElement(52, "td");
            __builder.AddAttribute(53, "b-7c8dmjz29j");
#nullable restore
#line 57 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
__builder.AddContent(54, objperson.Description);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "\r\n\r\n\r\n                                ");
            __builder.OpenElement(56, "td");
            __builder.AddAttribute(57, "b-7c8dmjz29j");
            __builder.OpenElement(58, "div");
            __builder.AddAttribute(59, "class", "btn-group-sm");
            __builder.AddAttribute(60, "b-7c8dmjz29j");
            __builder.OpenElement(61, "button");
            __builder.AddAttribute(62, "class", "btn btn-danger");
            __builder.AddAttribute(63, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 62 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                                                                                  ()=>Delete(objperson.OId)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(64, "b-7c8dmjz29j");
            __builder.AddContent(65, "Delete");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 66 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                            account++;
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 74 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                       
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n    ");
            __builder.OpenComponent<OPdWebApp.OPDInfo.AddDepartment>(67);
            __builder.AddAttribute(68, "EventCallback", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<OPdWebApp.Department>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<OPdWebApp.Department>(this, 
#nullable restore
#line 78 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                                                     AddData

#line default
#line hidden
#nullable disable
            )));
            __builder.AddComponentReferenceCapture(69, (__value) => {
#nullable restore
#line 78 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
                         addCategory = (OPdWebApp.OPDInfo.AddDepartment)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 80 "D:\Project\konaymyoag\OPdWebApp\OPdWebApp\OPDInfo\DepartmentList.razor"
           
        protected AddDepartment addCategory { get; set; }

        int account = 1;
        private string error;
        protected override async Task OnInitializedAsync()
        {

            await load();

        }

        protected void AddCategory()
        {
            addCategory.Show();

        }

        protected IEnumerable<Department> departments { get; set; }
        async Task load()
        {

            // persons = await service.persons.GetAsync(pageindx, pagesize);
            departments = await repositoryt.depart.GetAsync();




        }
        public async Task ShowFrom()
        {
            try
            {

                addCategory.Show();

            }
            catch (Exception Ex)
            {

            }

        }
        public async Task AddData(Department data)
        {
            try
            {
                if (data != null)
                {
                    var obj = departments.FirstOrDefault(obj => obj.OId == data.OId);
                    if (obj != null)
                    {
                        var ilist = departments.ToList();
                        ilist.Remove(obj);

                        //patients = patients.Except(obj).ToList();

                        departments = ilist;
                    }
                    await repositoryt.depart.UpsertAsync(data);
                }


            }
            catch (Exception Ex)
            {

            }
            finally
            {
                var ilist = departments.ToList();
                ilist.Add(data);
                departments = ilist.ToList();
            }

            StateHasChanged();
        }
        public async Task Delete(string id)
        {
            try
            {
                if (id != null)
                {
                    var obj = departments.FirstOrDefault(obj => obj.OId == id);
                    if (obj != null)
                    {
                        var ilist = departments.ToList();
                        ilist.Remove(obj);



                        departments = ilist;
                    }
                    await repositoryt.depart.DeleteAsync(id);
                }


            }
            catch (Exception Ex)
            {
                //NotificationService.Notify(NotificationSeverity.Error, $"Error", $"Unable to create new Branch!");
            }
            await load();
        }
        private string searchTerm;
        protected string SearchTerm
        {
            get { return searchTerm; }
            set { searchTerm = value; Search(); }
        }
        protected async void Search()
        {
            if (searchTerm != "")
            {
                departments = departments.Where(obj => obj.Name == searchTerm || obj.Description.Contains(searchTerm)).ToList();
            }
            else
            {
                load();
            }

            StateHasChanged();

        }



    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IToastService toastService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NotificationService notificationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAuthenticationService autthenticationservice { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRepositoryT repositoryt { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private QRcode qrcode { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JS { get; set; }
    }
}
#pragma warning restore 1591
